<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>3&nbsp;Kernel Esterel Reference</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="file:///Applications/Racket%20v8.11.1/doc/local-redirect/local-redirect.js"></script><script type="text/javascript" src="file:///Users/elliberes/Library/Racket/8.11.1/doc/local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Esterel in Racket</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Esterel_in_Racket__for_Racket_Programmers.html" class="tocviewlink" data-pltdoc="x">Esterel in Racket, for Racket Programmers</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="sec_eir-esterel.html" class="tocviewlink" data-pltdoc="x">Esterel in Racket, for Esterel Programmers</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Kernel Esterel Reference</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="reference.html" class="tocviewlink" data-pltdoc="x">Esterel Reference</a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" data-pltdoc="x">Bibliography</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>3&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Kernel Esterel Reference</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="#%28part._.Running_.Esterel_.Code%29" class="tocviewlink" data-pltdoc="x">Running Esterel Code</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="#%28part._.Signals%29" class="tocviewlink" data-pltdoc="x">Signals</a></td></tr><tr><td align="right">3.3&nbsp;</td><td><a href="#%28part._.Control_.Operations%29" class="tocviewlink" data-pltdoc="x">Control Operations</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">3.1<tt>&nbsp;</tt></span><a href="#%28part._.Running_.Esterel_.Code%29" class="tocsubseclink" data-pltdoc="x">Running Esterel Code</a></td></tr><tr><td><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">esterel</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">react!</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._esterel~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">esterel?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._in-esterel~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">in-<wbr></wbr>esterel?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._exn~3afail~3anot-constructive~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">exn:<span class="mywbr"> &nbsp;</span>fail:<span class="mywbr"> &nbsp;</span>not-<wbr></wbr>constructive?</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._debug-when-must%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">debug-<wbr></wbr>when-<wbr></wbr>must</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.2<tt>&nbsp;</tt></span><a href="#%28part._.Signals%29" class="tocsubseclink" data-pltdoc="x">Signals</a></td></tr><tr><td><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-signal%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">with-<wbr></wbr>signal</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._define-signal%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>signal</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._make-global-signal%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>global-<wbr></wbr>signal</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">signal?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-name%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">signal-<wbr></wbr>name</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-index%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">signal-<wbr></wbr>index</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-combine%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">signal-<wbr></wbr>combine</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._present~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">present?</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-value%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">signal-<wbr></wbr>value</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">emit</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.3<tt>&nbsp;</tt></span><a href="#%28part._.Control_.Operations%29" class="tocsubseclink" data-pltdoc="x">Control Operations</a></td></tr><tr><td><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._par%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">par</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._pause%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">pause</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._suspend%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">suspend</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-trap%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">with-<wbr></wbr>trap</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._exit-trap%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">exit-<wbr></wbr>trap</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._trap~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">trap?</span></span></a></td></tr><tr><td><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._exec%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">exec</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.11.1&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.11.1&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="sec_eir-esterel.html" title="backward to &quot;2 Esterel in Racket, for Esterel Programmers&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Esterel in Racket&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="reference.html" title="forward to &quot;4 Esterel Reference&quot;" data-pltdoc="x" rel="next">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;esterel/esterel.scrbl&quot;)" x-source-pkg="esterel-doc" x-part-tag="&quot;kernel&quot;">3<tt>&nbsp;</tt><a name="(part._kernel)"></a><a name="(mod-path._esterel/kernel)"></a>Kernel Esterel Reference</h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">esterel/kernel</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/esterel-lib" title="Install this package using `raco pkg install esterel-lib`"><span class="stt">esterel-lib</span></a></span></td></tr></table></p><p>The <a href="" class="RktModLink" data-pltdoc="x"><span class="RktSym">esterel/kernel</span></a> and
<a href="reference.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">esterel/full</span></a> libraries provide all of the names
documented here; the <a href="reference.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">esterel/full</span></a> library
provides additional functionality.</p><h4 x-source-module="(lib &quot;esterel/esterel.scrbl&quot;)" x-source-pkg="esterel-doc" x-part-tag="&quot;Running_Esterel_Code&quot;">3.1<tt>&nbsp;</tt><a name="(part._.Running_.Esterel_.Code)"></a>Running Esterel Code</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._esterel/kernel..rkt)._esterel))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">esterel</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-pre</span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">maybe-pre</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:pre</span><span class="hspace">&nbsp;</span><span class="RktVar">pre-count-expr</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Returns a value that, when passed to
<span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span>, will evaluate the <span class="RktVar">expr</span>s in a
context where <span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._in-esterel~3f%29%29" class="RktValLink" data-pltdoc="x">in-esterel?</a></span> returns <span class="RktVal">#t</span>.</div></p><p>If present, the value of <span class="RktVar">pre-count-expr</span> is
expected to be a natural number. It is a limit on the
history that&rsquo;s saved for signals in previous instants.
It defaults to <span class="RktVal">0</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._esterel/kernel..rkt)._react!))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValDef RktValLink" data-pltdoc="x">react!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:emit</span><span class="hspace">&nbsp;</span><span class="RktVar">signals</span><span class="RktOpt">]</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="prototype"><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">hash/dc</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">s</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal~3f%29%29" class="RktValLink" data-pltdoc="x">signal?</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">v</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">s</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._if%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-combine%29%29" class="RktValLink" data-pltdoc="x">signal-combine</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">any/c</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:immutable</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="hspace">&nbsp;</span><span class="RktPn">#:kind</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">flat</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._esterel~3f%29%29" class="RktValLink" data-pltdoc="x">esterel?</a></span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">signals</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">listof</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">and/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal~3f%29%29" class="RktValLink" data-pltdoc="x">signal?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">not/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-combine%29%29" class="RktValLink" data-pltdoc="x">signal-combine</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">cons/c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">and/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal~3f%29%29" class="RktValLink" data-pltdoc="x">signal?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-combine%29%29" class="RktValLink" data-pltdoc="x">signal-combine</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">any/c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Runs one instant of <span class="RktVar">r</span>.</div></p><p>If <span class="RktVar">signals</span> are supplied, they are emitted at the
start of the <a href="Esterel_in_Racket__for_Racket_Programmers.html#%28tech._instant%29" class="techoutside" data-pltdoc="x"><span class="techinside">instant</span></a>; valued signals must be paired with
values.</p><p>The result has the values of signals that were emitted.
Additionally if a signal is not a valued signal and the
computation depends on it not being present (e.g., if it is
passed to <span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._present~3f%29%29" class="RktValLink" data-pltdoc="x">present?</a></span>), it is included in resulting
hash, mapped to <span class="RktVal">#f</span>.</p><p>If the code is not constructive, an exception (that is
recognized by <span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._exn~3afail~3anot-constructive~3f%29%29" class="RktValLink" data-pltdoc="x">exn:fail:not-constructive?</a></span>) is
raised.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._define-signal%29%29" class="RktStxLink" data-pltdoc="x">define-signal</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="hspace">&nbsp;</span><span class="RktSym">S2</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#hash((#&lt;signal: S1&gt; . #t))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._if%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._present~3f%29%29" class="RktValLink" data-pltdoc="x">present?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">void</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#hash((#&lt;signal: S1&gt; . #f) (#&lt;signal: S2&gt; . #t))</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._if%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._present~3f%29%29" class="RktValLink" data-pltdoc="x">present?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">void</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:emit</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'#hash((#&lt;signal: S1&gt; . #t))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._if%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._present~3f%29%29" class="RktValLink" data-pltdoc="x">present?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">void</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">react!: the program is not constructive</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr">the signal blocking progress can be emitted</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">signal: #&lt;signal: S1&gt;</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._esterel/kernel..rkt)._esterel~3f))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._esterel~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">esterel?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Recognizes the result of <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._esterel/kernel..rkt)._in-esterel~3f))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._in-esterel~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">in-esterel?</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if it is called in the dynamic extent
of one of the expressions in a <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._esterel/kernel..rkt)._exn~3afail~3anot-constructive~3f))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._exn~3afail~3anot-constructive~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">exn:fail:not-constructive?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Recognizes the exception that <span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span> raises when an
<a href="Esterel_in_Racket__for_Racket_Programmers.html#%28tech._instant%29" class="techoutside" data-pltdoc="x"><span class="techinside">instant</span></a> is not constructive.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._esterel/kernel..rkt)._debug-when-must))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._debug-when-must%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">debug-when-must</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">e1</span><span class="hspace">&nbsp;</span><span class="RktVar">e2</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Evaluates <span class="RktVar">e1</span> and <span class="RktVar">e2</span>s when the entire
<span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._debug-when-must%29%29" class="RktStxLink" data-pltdoc="x">debug-when-must</a></span> form must be executed. Raises an error
if evaluated outside of an <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span> form.</div></p><p>This can be used to debug Esterel in Racket programs.
Sometimes, code inside <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span> is run as part of an
exploration to determine if signal might be emitted and, in
that case, we do not know that that code must run. In such
situations, effectful code (such as <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._printf%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">printf</a></span>) can run
multiple times, leading to confusing behavior. Wrapping such
debugging IO operations in a <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._debug-when-must%29%29" class="RktStxLink" data-pltdoc="x">debug-when-must</a></span> form can
help to understand an Esterel in Racket program.</p><p><div class="SIntrapara">In this example, the use of <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._debug-when-must%29%29" class="RktStxLink" data-pltdoc="x">debug-when-must</a></span> prevents
<span class="RktVal">"hi!"</span> from being printed out, as that code runs
only in can exploration. In contrast <span class="RktVal">"bye!"</span> is printed
out because that code must run, as <span class="RktVar">S1</span> is not present.
Note that without the <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._debug-when-must%29%29" class="RktStxLink" data-pltdoc="x">debug-when-must</a></span> forms wrapped
around the calls to <span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._printf%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">printf</a></span>, more printouts happen.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._define-signal%29%29" class="RktStxLink" data-pltdoc="x">define-signal</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._if%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._present~3f%29%29" class="RktValLink" data-pltdoc="x">present?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._debug-when-must%29%29" class="RktStxLink" data-pltdoc="x">debug-when-must</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._printf%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">printf</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"hi!\n"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._debug-when-must%29%29" class="RktStxLink" data-pltdoc="x">debug-when-must</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=Writing.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._printf%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">printf</a></span><span class="RktVal">"bye!\n"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktOut">bye!</span></p></td></tr><tr><td><p><span class="RktRes">'#hash((#&lt;signal: S1&gt; . #f))</span></p></td></tr></table></blockquote></div></p></div></p><h4 x-source-module="(lib &quot;esterel/esterel.scrbl&quot;)" x-source-pkg="esterel-doc" x-part-tag="&quot;Signals&quot;">3.2<tt>&nbsp;</tt><a name="(part._.Signals)"></a>Signals</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" cellpadding="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._esterel/kernel..rkt)._with-signal))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-signal%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">with-signal</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">signal</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">body-expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">signal</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">signal-id</span><span class="hspace">&nbsp;</span><span class="RktVar">maybe-combine</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">maybe-combine</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:combine</span><span class="hspace">&nbsp;</span><span class="RktVar">combine-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:init</span><span class="hspace">&nbsp;</span><span class="RktVar">init-expr</span><span class="hspace">&nbsp;</span><span class="RktPn">#:combine</span><span class="hspace">&nbsp;</span><span class="RktVar">combine-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:memoryless</span><span class="hspace">&nbsp;</span><span class="RktPn">#:init</span><span class="hspace">&nbsp;</span><span class="RktVar">init-expr</span><span class="hspace">&nbsp;</span><span class="RktPn">#:combine</span><span class="hspace">&nbsp;</span><span class="RktVar">combine-expr</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:single</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Creates new signals and binds them to the the <span class="RktVar">signal-id</span>s.</div></p><p>Each signal suffixed with <span class="RktPn">#:combine</span> is a value-carrying
signal, and those without are not. Multiple emissions of the signal are
combined using the result of <span class="RktVar">combine-expr</span>, a binary
function that is assumed to be associative and commutative.
If <span class="RktVar">init-expr</span> is provided, then the value of the signal
if it is never emitted is the value of <span class="RktVar">init-expr</span>. Once
the signal is emitted, however, the value of <span class="RktVar">init-expr</span>
is discarded.</p><p>If <span class="RktPn">#:memoryless</span> is supplied, the signal&rsquo;s value is
not carried forward from previous instants, but instead
restarts with the value of <span class="RktVar">init-expr</span>. If
<span class="RktPn">#:memoryless</span> is not supplied, and the signal is not
emitted in the current instant, then its value is the value
it had in the previous instant (if it had one).</p><p>If the signal is followed by <span class="RktPn">#:single</span>, it is also
a valued signal, but it may be emitted at most once in each
instant and it takes that value.</p><p>If <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-signal%29%29" class="RktStxLink" data-pltdoc="x">with-signal</a></span> is invoked from within
<span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span>, then the signals may not be emitted
once the last <span class="RktVar">body-expr</span> is evaluated (it will result in
an error from <span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span> if they are).</p><p>The result of the <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-signal%29%29" class="RktStxLink" data-pltdoc="x">with-signal</a></span> expression is the
result of the last expression. If <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-signal%29%29" class="RktStxLink" data-pltdoc="x">with-signal</a></span> is
used in the dynamic extent of <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span>, the last
<span class="RktVar">body-expr</span> is not in tail position with respect to
the <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-signal%29%29" class="RktStxLink" data-pltdoc="x">with-signal</a></span>, but otherwise it is.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-signal%29%29" class="RktStxLink" data-pltdoc="x">with-signal</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">s1</span><span class="hspace">&nbsp;</span><span class="RktSym">s2</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=when_unless.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._unless%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">unless</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._present~3f%29%29" class="RktValLink" data-pltdoc="x">present?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s2</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'#hash((#&lt;signal: s2 (1)&gt; . #f) (#&lt;signal: s1 (0)&gt; . #t))</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-signal%29%29" class="RktStxLink" data-pltdoc="x">with-signal</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">s1</span><span class="hspace">&nbsp;</span><span class="RktSym">s2</span><span class="hspace">&nbsp;</span><span class="RktPn">#:combine</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s3</span><span class="hspace">&nbsp;</span><span class="RktSym">s4</span><span class="hspace">&nbsp;</span><span class="RktPn">#:combine</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252A%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">*</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s1</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s2</span><span class="hspace">&nbsp;</span><span class="RktVal">22</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s2</span><span class="hspace">&nbsp;</span><span class="RktVal">33</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'#hash((#&lt;signal: s1 (0)&gt; . #t) (#&lt;signal: s2 (1)&gt; . 55))</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-signal%29%29" class="RktStxLink" data-pltdoc="x">with-signal</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">s1</span><span class="hspace">&nbsp;</span><span class="RktPn">#:combine</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">+</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">s2</span><span class="hspace">&nbsp;</span><span class="RktPn">#:init</span><span class="hspace">&nbsp;</span><span class="RktVal">11</span><span class="hspace">&nbsp;</span><span class="RktPn">#:combine</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">+</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">s3</span><span class="hspace">&nbsp;</span><span class="RktPn">#:combine</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">+</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">s4</span><span class="hspace">&nbsp;</span><span class="RktPn">#:init</span><span class="hspace">&nbsp;</span><span class="RktVal">22</span><span class="hspace">&nbsp;</span><span class="RktPn">#:combine</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252A%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">*</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-value%29%29" class="RktValLink" data-pltdoc="x">signal-value</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s2</span><span class="hspace">&nbsp;</span><span class="RktPn">#:can</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=sets.html%23%2528def._%2528%2528lib._racket%252Fset..rkt%2529._set%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s3</span><span class="hspace">&nbsp;</span><span class="RktSym">s4</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s4</span><span class="hspace">&nbsp;</span><span class="RktVal">33</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s3</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-value%29%29" class="RktValLink" data-pltdoc="x">signal-value</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s4</span><span class="hspace">&nbsp;</span><span class="RktPn">#:can</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=sets.html%23%2528def._%2528%2528lib._racket%252Fset..rkt%2529._set%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">set</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'#hash((#&lt;signal: s4 (3)&gt; . 33)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(#&lt;signal: s3 (2)&gt; . 33)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(#&lt;signal: s1 (0)&gt; . 11))</span></p></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._esterel/kernel..rkt)._define-signal))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._define-signal%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">define-signal</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">signal</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Creates signals and binds them to the <span class="RktVar">signal-id</span>s
in each <span class="RktVar">signal</span>.</div></p><p>The signals that <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._define-signal%29%29" class="RktStxLink" data-pltdoc="x">define-signal</a></span> creates have
indefinite extent (i.e., the signal will not become dead
unlike the signals created by <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-signal%29%29" class="RktStxLink" data-pltdoc="x">with-signal</a></span>),
but <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._define-signal%29%29" class="RktStxLink" data-pltdoc="x">define-signal</a></span> can be
used only at the module top-level or at the interactive
top-level.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._esterel/kernel..rkt)._make-global-signal))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._make-global-signal%29%29" class="RktValDef RktValLink" data-pltdoc="x">make-global-signal</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">name</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:combine</span><span class="hspace">&nbsp;</span><span class="RktVar">combine</span><span class="RktOpt">]</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">#:init</span><span class="hspace">&nbsp;</span><span class="RktVar">init</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span><span class="RktOpt">[</span></td><td valign="top"><span class="RktPn">#:memoryless</span><span class="hspace">&nbsp;</span><span class="RktVar">memoryless</span><span class="RktOpt">]</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal~3f%29%29" class="RktValLink" data-pltdoc="x">signal?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">combine</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">procedure-arity-includes/c</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">init</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">memoryless</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a global signal named <span class="RktVar">name</span>. If <span class="RktVar">combine</span> is not <span class="RktVal">#f</span>,
creates a valued signal. The <span class="RktVar">init</span> argument is not required. If it is not
supplied, then the signal has no initial value, otherwise the initial value is <span class="RktVar">init</span>.
If <span class="RktVar">memoryless</span> is <span class="RktVal">#t</span>, the signal is memoryless; see <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-signal%29%29" class="RktStxLink" data-pltdoc="x">with-signal</a></span>
for more information about memoryless signals.</div></p><p>Use <span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._make-global-signal%29%29" class="RktValLink" data-pltdoc="x">make-global-signal</a></span> when the number of signals
is not known ahead of time or it is not convenient to write
a sequence of <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._define-signal%29%29" class="RktStxLink" data-pltdoc="x">define-signal</a></span> definitions.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">sigs</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%252Fhash%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">for/hash</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-range%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">in-range</a></span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">values</a></span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._make-global-signal%29%29" class="RktValLink" data-pltdoc="x">make-global-signal</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528lib._racket%252Fformat..rkt%2529._%7E7ea%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">~a</a></span><span class="hspace">&nbsp;</span><span class="RktSym">i</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">sigs</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'#hash((0 . #&lt;signal: 0&gt;)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(1 . #&lt;signal: 1&gt;)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(2 . #&lt;signal: 2&gt;)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(3 . #&lt;signal: 3&gt;)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(4 . #&lt;signal: 4&gt;)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(5 . #&lt;signal: 5&gt;)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(6 . #&lt;signal: 6&gt;)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(7 . #&lt;signal: 7&gt;)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(8 . #&lt;signal: 8&gt;)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(9 . #&lt;signal: 9&gt;))</span></p></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._esterel/kernel..rkt)._signal~3f))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">signal?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Determines if <span class="RktVar">v</span> is a signal, i.e. returned from <span class="RktSym">signal</span>.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-signal%29%29" class="RktStxLink" data-pltdoc="x">with-signal</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">s1</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal~3f%29%29" class="RktValLink" data-pltdoc="x">signal?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal~3f%29%29" class="RktValLink" data-pltdoc="x">signal?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"not a signal, but a string"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._esterel/kernel..rkt)._signal-name))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-name%29%29" class="RktValDef RktValLink" data-pltdoc="x">signal-name</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">s</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">and/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._immutable%7E3f%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">immutable?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">s</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal~3f%29%29" class="RktValLink" data-pltdoc="x">signal?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the name of a signal.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._define-signal%29%29" class="RktStxLink" data-pltdoc="x">define-signal</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-name%29%29" class="RktValLink" data-pltdoc="x">signal-name</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"S"</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._esterel/kernel..rkt)._signal-index))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-index%29%29" class="RktValDef RktValLink" data-pltdoc="x">signal-index</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">s</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym">natural?</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">s</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal~3f%29%29" class="RktValLink" data-pltdoc="x">signal?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the index of a signal. This index counts the number
of times the <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-signal%29%29" class="RktStxLink" data-pltdoc="x">with-signal</a></span> that introduced <span class="RktVar">s</span>
has been executed to produce this particular signal. If the
signal was created outside the dynamic extent of <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span>,
<span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-index%29%29" class="RktValLink" data-pltdoc="x">signal-index</a></span> returns <span class="RktVal">#f</span>.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._define-signal%29%29" class="RktStxLink" data-pltdoc="x">define-signal</a></span><span class="hspace">&nbsp;</span><span class="RktSym">O</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-index%29%29" class="RktValLink" data-pltdoc="x">signal-index</a></span><span class="hspace">&nbsp;</span><span class="RktSym">O</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference.html#%28form._%28%28lib._esterel%2Ffull..rkt%29._loop%29%29" class="RktStxLink" data-pltdoc="x">loop</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-signal%29%29" class="RktStxLink" data-pltdoc="x">with-signal</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">S</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._if%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._present~3f%29%29" class="RktValLink" data-pltdoc="x">present?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">O</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">void</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._pause%29%29" class="RktValLink" data-pltdoc="x">pause</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=sets.html%23%2528form._%2528%2528lib._racket%252Fset..rkt%2529._for%252Fset%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">for/set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-hash%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">in-hash</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-name%29%29" class="RktValLink" data-pltdoc="x">signal-name</a></span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-index%29%29" class="RktValLink" data-pltdoc="x">signal-index</a></span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">(set '("S" 0 #f))</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=sets.html%23%2528form._%2528%2528lib._racket%252Fset..rkt%2529._for%252Fset%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">for/set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-hash%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">in-hash</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-name%29%29" class="RktValLink" data-pltdoc="x">signal-name</a></span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-index%29%29" class="RktValLink" data-pltdoc="x">signal-index</a></span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">(set '("S" 1 #f) '("S" 0 #t))</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=sets.html%23%2528form._%2528%2528lib._racket%252Fset..rkt%2529._for%252Fset%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">for/set</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-hash%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">in-hash</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-name%29%29" class="RktValLink" data-pltdoc="x">signal-name</a></span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-index%29%29" class="RktValLink" data-pltdoc="x">signal-index</a></span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">(set '("S" 1 #t) '("S" 2 #f))</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._esterel/kernel..rkt)._signal-combine))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-combine%29%29" class="RktValDef RktValLink" data-pltdoc="x">signal-combine</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">s</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">or/c</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="nobreak">-&gt;</span></span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">s</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal~3f%29%29" class="RktValLink" data-pltdoc="x">signal?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the combining operation for <span class="RktVar">s</span>, or <span class="RktVal">#f</span> if
<span class="RktVar">s</span> is not a value-carrying signal.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-signal%29%29" class="RktStxLink" data-pltdoc="x">with-signal</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">s1</span><span class="hspace">&nbsp;</span><span class="RktSym">s2</span><span class="hspace">&nbsp;</span><span class="RktPn">#:combine</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=values.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._values%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-combine%29%29" class="RktValLink" data-pltdoc="x">signal-combine</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s1</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-combine%29%29" class="RktValLink" data-pltdoc="x">signal-combine</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><p><span class="RktRes">#&lt;procedure:+&gt;</span></p></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._esterel/kernel..rkt)._present~3f))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._present~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">present?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">s</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:pre</span><span class="hspace">&nbsp;</span><span class="RktVar">pre</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">s</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal~3f%29%29" class="RktValLink" data-pltdoc="x">signal?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pre</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural?</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">0</span></td></tr></table></blockquote></div><div class="SIntrapara">Determines if <span class="RktVar">s</span> is present in the current instant when <span class="RktVar">pre</span> is <span class="RktVal">0</span>.</div></p><p>If <span class="RktVar">pre</span> is larger than zero, returns whether or not
<span class="RktVar">s</span> was present in previous instants. If <span class="RktVar">pre</span>
is larger than the value of the <span class="RktVar">pre-count-expr</span>
passed to <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span>, an error is raised.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._define-signal%29%29" class="RktStxLink" data-pltdoc="x">define-signal</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._define-signal%29%29" class="RktStxLink" data-pltdoc="x">define-signal</a></span><span class="hspace">&nbsp;</span><span class="RktSym">O1</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._define-signal%29%29" class="RktStxLink" data-pltdoc="x">define-signal</a></span><span class="hspace">&nbsp;</span><span class="RktSym">O2</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._if%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._present~3f%29%29" class="RktValLink" data-pltdoc="x">present?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">O1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">O2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#hash((#&lt;signal: S&gt; . #f) (#&lt;signal: O2&gt; . #t))</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:pre</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._pause%29%29" class="RktValLink" data-pltdoc="x">pause</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._if%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._present~3f%29%29" class="RktValLink" data-pltdoc="x">present?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S</span><span class="hspace">&nbsp;</span><span class="RktPn">#:pre</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">O1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">O2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#hash((#&lt;signal: S&gt; . #t))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#hash((#&lt;signal: O1&gt; . #t))</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._esterel/kernel..rkt)._signal-value))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-value%29%29" class="RktValDef RktValLink" data-pltdoc="x">signal-value</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">s</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktPn">#:pre</span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktOpt">]</span><span class="hspace">&nbsp;</span><span class="RktPn">#:can</span><span class="hspace">&nbsp;</span><span class="RktVar">can</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">s</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal~3f%29%29" class="RktValLink" data-pltdoc="x">signal?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">natural?</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">0</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">can</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">setof</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal~3f%29%29" class="RktValLink" data-pltdoc="x">signal?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the value of <span class="RktVar">s</span> in the current instant if <span class="RktVar">n</span> is <span class="RktVal">0</span>,
 unless it hasn&rsquo;t been emitted, in which case it returns the value in the previous
 instant.</div></p><p>If <span class="RktVar">n</span> is larger than zero, then <span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-value%29%29" class="RktValLink" data-pltdoc="x">signal-value</a></span> returns the value
 of <span class="RktVar">s</span> is the <span class="RktVar">n</span>th previous instant. If <span class="RktVar">n</span> is
 larger than the value of the <span class="RktVar">pre-count-expr</span> passed to
 <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span>, an error is raised. If the value has never been
 emitted and the signals declaration did not have an <span class="RktPn">#:init</span>
 clause, an error is raised.</p><p>The <span class="RktVar">can</span> argument indicates which signals can be
 emitted by the remaining computation and it must be supplied
 if if <span class="RktVar">n</span> is <span class="RktVal">0</span>. That is, if it is possible
 that some signal can be emitted in the current instant after
 <span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-value%29%29" class="RktValLink" data-pltdoc="x">signal-value</a></span> returns, then that signal must be in
 the set <span class="RktVar">can</span>.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._define-signal%29%29" class="RktStxLink" data-pltdoc="x">define-signal</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">S1</span><span class="hspace">&nbsp;</span><span class="RktPn">#:combine</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S2</span><span class="hspace">&nbsp;</span><span class="RktPn">#:combine</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">+</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">O1</span><span class="hspace">&nbsp;</span><span class="RktPn">#:combine</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">O2</span><span class="hspace">&nbsp;</span><span class="RktPn">#:combine</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">O3</span><span class="hspace">&nbsp;</span><span class="RktPn">#:combine</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:pre</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S2</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._pause%29%29" class="RktValLink" data-pltdoc="x">pause</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S2</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">O1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-value%29%29" class="RktValLink" data-pltdoc="x">signal-value</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="hspace">&nbsp;</span><span class="RktPn">#:can</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=sets.html%23%2528def._%2528%2528lib._racket%252Fset..rkt%2529._set%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">set</a></span><span class="hspace">&nbsp;</span><span class="RktSym">O2</span><span class="hspace">&nbsp;</span><span class="RktSym">O3</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">O2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-value%29%29" class="RktValLink" data-pltdoc="x">signal-value</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S2</span><span class="hspace">&nbsp;</span><span class="RktPn">#:pre</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">O3</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal-value%29%29" class="RktValLink" data-pltdoc="x">signal-value</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S2</span><span class="hspace">&nbsp;</span><span class="RktPn">#:can</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=sets.html%23%2528def._%2528%2528lib._racket%252Fset..rkt%2529._set%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">set</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#hash((#&lt;signal: S1&gt; . 5) (#&lt;signal: S2&gt; . 0))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'#hash((#&lt;signal: O2&gt; . 0)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(#&lt;signal: O3&gt; . 6)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(#&lt;signal: O1&gt; . 5)</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">(#&lt;signal: S2&gt; . 6))</span></p></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._esterel/kernel..rkt)._emit))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValDef RktValLink" data-pltdoc="x">emit</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">s</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">s</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal~3f%29%29" class="RktValLink" data-pltdoc="x">signal?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValDef RktValLink" data-pltdoc="x">emit</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">s</span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">s</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._signal~3f%29%29" class="RktValLink" data-pltdoc="x">signal?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Emits <span class="RktVar">s</span>. If one argument is passed, then <span class="RktVar">s</span>
must not be a value-carrying signal. If two arguments are
passed then <span class="RktVar">s</span> must be a value-carrying signal and
the value <span class="RktVar">v</span> is emitted.</div></p><h4 x-source-module="(lib &quot;esterel/esterel.scrbl&quot;)" x-source-pkg="esterel-doc" x-part-tag="&quot;Control_Operations&quot;">3.3<tt>&nbsp;</tt><a name="(part._.Control_.Operations)"></a>Control Operations</h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._esterel/kernel..rkt)._par))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._par%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">par</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Executes each <span class="RktVar">expr</span> in parallel, waiting for all of
them to complete. The result is a set of all of the values
of the <span class="RktVar">expr</span>s.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._esterel/kernel..rkt)._pause))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._pause%29%29" class="RktValDef RktValLink" data-pltdoc="x">pause</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Pauses the current thread; when all of the threads are
paused (or they are canceled via <span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._exit-trap%29%29" class="RktValLink" data-pltdoc="x">exit-trap</a></span>, the
instant is over. During the next instant, control picks up
wherever the pause was.</div></p><p><div class="SIntrapara">In this example, we pause in the middle of the loop and
the value of <span class="RktSym">n</span> is carried forward from instant to instant.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._define-signal%29%29" class="RktStxLink" data-pltdoc="x">define-signal</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="hspace">&nbsp;</span><span class="RktPn">#:combine</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=let.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._let%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference.html#%28form._%28%28lib._esterel%2Ffull..rkt%29._loop%29%29" class="RktStxLink" data-pltdoc="x">loop</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=when_unless.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._when%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">when</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._even%7E3f%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">even?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._pause%29%29" class="RktValLink" data-pltdoc="x">pause</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference.html#%28form._%28%28lib._esterel%2Ffull..rkt%29._loop%29%29" class="RktStxLink" data-pltdoc="x">loop</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%252B%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=for.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._for%252Flist%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">for/list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">i</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=sequences.html%23%2528def._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._in-range%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">in-range</a></span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">'(#hash((#&lt;signal: S1&gt; . 0))</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#hash()</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#hash((#&lt;signal: S1&gt; . 2))</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#hash()</span></p></td></tr><tr><td><p><span class="RktRes"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">#hash((#&lt;signal: S1&gt; . 4)))</span></p></td></tr></table></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._esterel/kernel..rkt)._suspend))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._suspend%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">suspend</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">body-expr</span><span class="hspace">&nbsp;</span><span class="RktVar">when-expr</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">When resuming from a <span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._pause%29%29" class="RktValLink" data-pltdoc="x">pause</a></span> in <span class="RktVar">body-expr</span>,
suspends <span class="RktVar">body-expr</span> when <span class="RktVar">when-expr</span> returns
a true value. The suspensions also affect any
<span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-signal%29%29" class="RktStxLink" data-pltdoc="x">with-signal</a></span> forms in (the dynamic extent of)
<span class="RktVar">when-expr</span>.</div></p><p>In the second instant in this example, <span class="RktSym">S1</span> is not
emitted because that thread is suspended. In the third
instant, however it is, because <span class="RktSym">S2</span> is not emitted.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._define-signal%29%29" class="RktStxLink" data-pltdoc="x">define-signal</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="hspace">&nbsp;</span><span class="RktSym">S2</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._par%29%29" class="RktStxLink" data-pltdoc="x">par</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=begin.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._begin%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">begin</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._pause%29%29" class="RktValLink" data-pltdoc="x">pause</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S2</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._pause%29%29" class="RktValLink" data-pltdoc="x">pause</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._suspend%29%29" class="RktStxLink" data-pltdoc="x">suspend</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=let.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._let%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference.html#%28form._%28%28lib._esterel%2Ffull..rkt%29._loop%29%29" class="RktStxLink" data-pltdoc="x">loop</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._pause%29%29" class="RktValLink" data-pltdoc="x">pause</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference.html#%28form._%28%28lib._esterel%2Ffull..rkt%29._loop%29%29" class="RktStxLink" data-pltdoc="x">loop</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._present~3f%29%29" class="RktValLink" data-pltdoc="x">present?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#hash()</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#hash((#&lt;signal: S2&gt; . #t))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#hash((#&lt;signal: S1&gt; . #t) (#&lt;signal: S2&gt; . #f))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#hash((#&lt;signal: S1&gt; . #t) (#&lt;signal: S2&gt; . #f))</span></p></td></tr></table></blockquote><p><div class="SIntrapara">Signals whose declaration are suspended do not see the
instants that happen during the suspension. Specifically,
the pre values are not affected by instants that are unseen
because of the suspension, as this example demonstrates.
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._define-signal%29%29" class="RktStxLink" data-pltdoc="x">define-signal</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">O</span><span class="hspace">&nbsp;</span><span class="RktPn">#:init</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=sets.html%23%2528def._%2528%2528lib._racket%252Fset..rkt%2529._set%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">set</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:combine</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=sets.html%23%2528def._%2528%2528lib._racket%252Fset..rkt%2529._set-union%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">set-union</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">S2</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:pre</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._suspend%29%29" class="RktStxLink" data-pltdoc="x">suspend</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-signal%29%29" class="RktStxLink" data-pltdoc="x">with-signal</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">S1</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=let.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._let%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference.html#%28form._%28%28lib._esterel%2Ffull..rkt%29._loop%29%29" class="RktStxLink" data-pltdoc="x">loop</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._pause%29%29" class="RktValLink" data-pltdoc="x">pause</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">O</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._present~3f%29%29" class="RktValLink" data-pltdoc="x">present?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="hspace">&nbsp;</span><span class="RktPn">#:pre</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference.html#%28form._%28%28lib._esterel%2Ffull..rkt%29._loop%29%29" class="RktStxLink" data-pltdoc="x">loop</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._present~3f%29%29" class="RktValLink" data-pltdoc="x">present?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#hash((#&lt;signal: S1 (0)&gt; . #t))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="hspace">&nbsp;</span><span class="RktPn">#:emit</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._list%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#hash((#&lt;signal: S2&gt; . #t))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#hash((#&lt;signal: S2&gt; . #f) (#&lt;signal: O&gt; . #t) (#&lt;signal: S1 (0)&gt; . #t))</span></p></td></tr></table></blockquote></div></p><p>In the second instant, <span class="RktSym">S1</span> is not emitted but, because its
declaration is suspended, the present test on the previous
instant&rsquo;s version of <span class="RktSym">S1</span> is true and thus the result
of <span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span> has <span class="RktSym">O</span> mapped to <span class="RktVal">#t</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._((lib._esterel/kernel..rkt)._with-trap))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-trap%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">with-trap</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">trap-id</span><span class="hspace">&nbsp;</span><span class="RktVar">body-expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Binds <span class="RktVar">trap-id</span> to a newly created trap and evaluates the
<span class="RktVar">body-expr</span>s. If the trap bound to <span class="RktVar">trap-id</span> is
passed to <span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._exit-trap%29%29" class="RktValLink" data-pltdoc="x">exit-trap</a></span>, the computation in the rest of
the <span class="RktVar">body-expr</span>s is skipped and the result of the
<span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-trap%29%29" class="RktStxLink" data-pltdoc="x">with-trap</a></span> is the value passed to <span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._exit-trap%29%29" class="RktValLink" data-pltdoc="x">exit-trap</a></span>.</div></p><p><div class="SIntrapara">In this example, the <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._exit-trap%29%29" class="RktValLink" data-pltdoc="x">exit-trap</a></span><span class="stt"> </span><span class="RktSym">t</span><span class="RktPn">)</span> causes the first
instant to not have <span class="RktSym">S2</span> emitted and causes
the second instant to not have <span class="RktSym">S1</span> emitted.
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._define-signal%29%29" class="RktStxLink" data-pltdoc="x">define-signal</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="hspace">&nbsp;</span><span class="RktSym">S2</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-trap%29%29" class="RktStxLink" data-pltdoc="x">with-trap</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._par%29%29" class="RktStxLink" data-pltdoc="x">par</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=begin.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._begin%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">begin</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._exit-trap%29%29" class="RktValLink" data-pltdoc="x">exit-trap</a></span><span class="hspace">&nbsp;</span><span class="RktSym">t</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=begin.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._begin%2529%2529&amp;version=8.11.1" class="RktStxLink Sq" data-pltdoc="x">begin</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._pause%29%29" class="RktValLink" data-pltdoc="x">pause</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._emit%29%29" class="RktValLink" data-pltdoc="x">emit</a></span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#hash((#&lt;signal: S1&gt; . #t))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._react%21%29%29" class="RktValLink" data-pltdoc="x">react!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">r</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#hash()</span></p></td></tr></table></blockquote></div></p></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._esterel/kernel..rkt)._exit-trap))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._exit-trap%29%29" class="RktValDef RktValLink" data-pltdoc="x">exit-trap</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">v</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._trap~3f%29%29" class="RktValLink" data-pltdoc="x">trap?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">void</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Exits to the trap <span class="RktVar">t</span> with the value <span class="RktVar">v</span>; does not return.</div></p><p>See also <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-trap%29%29" class="RktStxLink" data-pltdoc="x">with-trap</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._esterel/kernel..rkt)._trap~3f))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._trap~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">trap?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="https://download.racket-lang.org/releases/8.11.1/doc/local-redirect/index.html?doc=reference&amp;rel=booleans.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._boolean%7E3f%2529%2529&amp;version=8.11.1" class="RktValLink Sq" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">any/c</span></td></tr></table></blockquote></div><div class="SIntrapara">Recognizes values bound by <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-trap%29%29" class="RktStxLink" data-pltdoc="x">with-trap</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><table cellspacing="0" cellpadding="0" class="RktBlk RForeground"><tr><td><span class="RktPn">(</span><a name="(form._((lib._esterel/kernel..rkt)._exec))"></a><span title="Provided from: esterel/kernel, esterel/full | Package: esterel-lib"><span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._exec%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">exec</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">esterel-id</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">id-expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">exec-expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">maybe-kill-exprs</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">maybe-suspend-exprs</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVar">maybe-resume-exprs</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">maybe-kill-exprs</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:kill</span><span class="hspace">&nbsp;</span><span class="RktVar">kill-expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">maybe-suspend-exprs</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:suspend</span><span class="hspace">&nbsp;</span><span class="RktVar">suspend-expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">maybe-resume-exprs</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">#:resume</span><span class="hspace">&nbsp;</span><span class="RktVar">resume-expr</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Creates a separate thread to evaluate the <span class="RktVar">exec-expr</span>s.
Meanwhile, <span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._pause%29%29" class="RktValLink" data-pltdoc="x">pause</a></span>s until the first instant after the
<span class="RktVar">exec-expr</span>s terminate.</div></p><p>The <span class="RktVar">id-expr</span> expressions are evaluated when the
<span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._exec%29%29" class="RktStxLink" data-pltdoc="x">exec</a></span> is evaluated and they are bound to the
<span class="RktVar">id</span>s, whose scope spans the <span class="RktVar">exec-expr</span>s,
<span class="RktVar">kill-expr</span>s, <span class="RktVar">suspend-expr</span>s, and the
<span class="RktVar">resume-expr</span>s.</p><p>The <span class="RktVar">suspend-expr</span>s and <span class="RktVar">resume-expr</span>s are
evaluated each instant that the <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._exec%29%29" class="RktStxLink" data-pltdoc="x">exec</a></span> is
<span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._suspend%29%29" class="RktStxLink" data-pltdoc="x">suspend</a></span>ed or resumed, with the caveat that, if the
<span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._exec%29%29" class="RktStxLink" data-pltdoc="x">exec</a></span> is suspended for multiple instants, the
<span class="RktVar">suspend-expr</span>s are evaluated only during the first
instant when the <span class="RktSym">expr</span> is suspended. Similarly, when
the <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._exec%29%29" class="RktStxLink" data-pltdoc="x">exec</a></span> is resumed, the <span class="RktVar">resume-expr</span>s are
evaluated only once, until the next time the <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._exec%29%29" class="RktStxLink" data-pltdoc="x">exec</a></span>
is resumed (following some future suspension).</p><p>If the <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._exec%29%29" class="RktStxLink" data-pltdoc="x">exec</a></span> is terminated (because a parallel
thread <span class="RktSym"><a href="#%28def._%28%28lib._esterel%2Fkernel..rkt%29._exit-trap%29%29" class="RktValLink" data-pltdoc="x">exit-trap</a></span>s to an enclosing <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._with-trap%29%29" class="RktStxLink" data-pltdoc="x">with-trap</a></span>)
the <span class="RktVar">kill-expr</span>s are evaluated.</p><p>If they are evaluated, the <span class="RktVar">kill-expr</span>s,
<span class="RktVar">suspend-expr</span>s, and <span class="RktVar">resume-expr</span>s are
evaluated on the same thread as each other, and that thread
is different from the thread evaluating the <span class="RktVar">exec-expr</span>s.
Also, the <span class="RktVar">kill-expr</span>s, <span class="RktVar">suspend-expr</span>s, and
<span class="RktVar">resume-expr</span>s must not raise errors or otherwise
fail to return normally, as the overall <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span>
that they are running in will not function properly in that
situation.</p><p>The intention of <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._exec%29%29" class="RktStxLink" data-pltdoc="x">exec</a></span> is to offer a controlled way
to connect the synchronous computation (inside
<span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._esterel%29%29" class="RktStxLink" data-pltdoc="x">esterel</a></span>) to the asynchronous computation that&rsquo;s
going on outside it. As such, the idea is that the
<span class="RktVar">exec-expr</span>s may run some asynchronous computation,
such as connecting to a website or waiting for a timeout
and, when that completes, trigger another reaction with the
results of the asynchronous computation communicated to the
synchronous world via values on signals. That is, the last
thing that the <span class="RktSym">exec-exprs</span>s should do is trigger
a reaction. But, that reaction should probably be triggered
on the same thread that triggered the original reaction (or,
at least, in a way that guarantees that only one reaction is
running at a time). The syncronization required to establish
that is left to the user of <span class="RktSym"><a href="#%28form._%28%28lib._esterel%2Fkernel..rkt%29._exec%29%29" class="RktStxLink" data-pltdoc="x">exec</a></span>. One possibility,
if a GUI is involved, is to use <span class="RktSym">queue-callback</span> in
the <span class="RktVar">exec-expr</span>s, keeping every reaction on an
eventspace&rsquo;s handler thread.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" id="searchbox" type="text" tabindex="1" placeholder="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;8.11.1&quot;, &quot;../&quot;);"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;8.11.1&quot;);">top</a><span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="sec_eir-esterel.html" title="backward to &quot;2 Esterel in Racket, for Esterel Programmers&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Esterel in Racket&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="reference.html" title="forward to &quot;4 Esterel Reference&quot;" data-pltdoc="x" rel="next">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>